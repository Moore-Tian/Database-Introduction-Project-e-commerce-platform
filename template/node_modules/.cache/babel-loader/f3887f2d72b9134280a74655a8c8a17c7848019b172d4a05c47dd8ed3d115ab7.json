{"ast":null,"code":"export default {\n  props: {\n    info: Object\n  },\n  data() {\n    return {\n      colors: {\n        '白色': '#ffffff',\n        '黑色': '#100f0f',\n        '灰色': '#a39f9f',\n        '金色': '#dac272',\n        '蓝色': '#233472',\n        '红色': '#f2352e'\n      },\n      product_goods: 0,\n      begood: true\n    };\n  },\n  methods: {\n    async handleAddCart() {\n      await this.axios.get('add_to_cart/', {\n        params: {\n          user_id: this.$store.state.userId,\n          product_id: this.info.pk\n        }\n      }).then(response => {\n        console.log(response);\n        //this.list = response.data.list\n        window.alert(\"添加成功\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n      //this.$store.commit('addCart', this.info.pk);\n    }\n  }\n};","map":{"version":3,"mappings":"AAoBA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA,qCACA;QAAAC;UAAAC;UAAAC;QAAA;MAAA,GACAC;QACAC;QACA;QACAC;MACA,GACAC;QACAF;MACA;;MAGA;IACA;EAEA;AACA","names":["props","info","data","colors","product_goods","begood","methods","params","user_id","product_id","then","console","window","catch"],"sourceRoot":"src/components/customer","sources":["customer_product.vue"],"sourcesContent":["<template>\n  <div class=\"product\">\n    <router-link :to=\"'/product/' + info.pk\"\n                 class=\"product-main\">\n      <!-- 依次显示商品图片、名称、销量、颜色、单价，加入购物车 -->\n\n      <img :src=\"`http://127.0.0.1:8000/media/${info.fields.product_image}`\" alt=\"\" height=\"200px\">\n      <h4>{{info.fields.product_name}}</h4>\n      <h4>销量{{info.fields.product_sales}}</h4>\n      <div class=\"product-color\"\n           :style=\"{background: colors[info.fields.product_color]}\"></div>\n      <div class=\"product-cost\">￥ {{info.fields.product_cost}}</div>\n      <!-- 阻止冒泡，否则点击按钮的同时也会触发a标签进入详情页 -->\n      <div class=\"product-add-cart\"\n           @click.prevent=\"handleAddCart\">加入购物车</div>\n    </router-link>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    info: Object\n  },\n  data () {\n    return {\n      colors: {\n        '白色': '#ffffff',\n        '黑色': '#100f0f',\n        '灰色': '#a39f9f',\n        '金色': '#dac272',\n        '蓝色': '#233472',\n        '红色': '#f2352e'\n      },\n      product_goods:0,\n      begood:true\n    }\n  },\n  methods: {\n    async handleAddCart(){\n      await this.axios.get('add_to_cart/',\n            {params:{user_id: this.$store.state.userId, product_id: this.info.pk}})\n        .then((response) => {\n            console.log(response);\n            //this.list = response.data.list\n            window.alert(\"添加成功\")\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n      //this.$store.commit('addCart', this.info.pk);\n    },\n\n  }\n}\n</script>\n<!-- scoped属性表示只对当前组件有效，不影响其他组件 -->\n<style scoped>\n.product{\n  width: 350px;\n  float: left;\n}\n.product-main{\n  display: block;\n  margin: 16px;\n  padding: 16px;\n  border: 1px solid #dddee1;\n  border-radius: 6px;\n  overflow: hidden;\n  background: #fff;\n  text-align: center;\n  position: relative;\n}\n.product-main img{\n  width: 100%;\n}\nh4{\n  color: #222;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.product-main:hover h4{\n  color: #0070c9;\n}\n.product-color{\n  display: block;\n  width: 16px;\n  height: 16px;\n  border: 1px solid #dddee1;\n  border-radius: 50%;\n  margin: 6px auto;\n}\n.product-cost{\n  color: #de4037;\n  margin-top: 6px;\n}\n.product-add-cart{\n  display: none;\n  padding: 4px 8px;\n  background: #2d8cf0;\n  color: #fff;\n  font-size: 12px;\n  border-radius: 3px;\n  cursor: pointer;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n.product-main:hover .product-add-cart{\n  display: inline-block;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}