{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"order_cart\",\n  props: {\n    info: Object,\n    orderProducts: Object,\n    productDictList: Object\n  },\n  data() {\n    return {\n      userCartList: [],\n      //从cart表取到的原数据\n      cartProductList: [],\n      //cart表里包含的product表的原数据\n      productList: [],\n      //productDictList:[] , //product_id -> product\n\n      cart_list: []\n    };\n  },\n  created() {\n    this.orderProducts.forEach(item => {\n      if (item.fields.order_id == this.info.pk) {\n        this.cart_list.push(item);\n      }\n    });\n  },\n  computed: {\n    //订单商品总数\n    countAll() {\n      let count = 0;\n      this.cart_list.forEach(item => {\n        count += item.fields.num;\n      });\n      return count;\n    },\n    //订单商品总价\n    costAll() {\n      let cost = 0;\n      this.cart_list.forEach(item => {\n        cost += item.fields.order_product_cost * (item.fields.num - 0.0);\n      });\n      return cost;\n    }\n  }\n};","map":{"version":3,"mappings":";AA8CA;EACAA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MAEAC;MAAA;MACAC;MAAA;MACAC;MACA;;MAEAC;IAEA;EACA;EACAC;IACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;IAAA;IACAC;MACA;MACA;QACAC;MAEA;MACA;IACA;EAEA;AAGA","names":["name","props","info","orderProducts","productDictList","data","userCartList","cartProductList","productList","cart_list","created","computed","countAll","count","costAll","cost"],"sourceRoot":"src/components/business","sources":["order_cart.vue"],"sourcesContent":["<template>\n    <div class=\"cart\">\n        <div class=\"cart-header\">\n            <div class=\"cart-header-main\">\n                <div class=\"cart-info\">商品信息</div>\n                <div class=\"cart-price\">单价</div>\n                <div class=\"cart-count\">数量</div>\n                <div class=\"cart-cost\">小计</div>\n            </div>\n        </div>\n        <div class=\"cart-content\">\n            <!-- 列表显示购物清单 -->\n            <div class=\"cart-content-main\" v-for=\"(item)  in cart_list\" :key=\"item.index\">\n                <div class=\"cart-info\">\n                    <img :src=\"`http://127.0.0.1:8000/media/${productDictList[item.fields.product_id].fields.product_image}`\" alt=\"\"\n                    height=\"150px\" width=\"150px\">\n                    <span>{{productDictList[item.fields.product_id].fields.product_name}}</span>\n                </div>\n                <div class=\"cart-price\">\n                    ￥ {{item.fields.order_product_cost}}\n                </div>\n                <div class=\"cart-count\">\n\n                    {{item.fields.num}}\n\n                </div>\n                <div class=\"cart-cost\">\n                    ￥ {{item.fields.order_product_cost * (item.fields.num-0.0)}}\n                </div>\n            </div>\n            <div class=\"cart-empty\" v-if=\"!cart_list.length\">无商品</div>\n        </div>\n        <div class=\"cart-footer\" v-show=\"cart_list.length\">\n            <div class=\"cart-footer-desc\">\n                共计 <span>{{countAll}}</span>\n            </div>\n            <div class=\"cart-footer-desc\">\n                总额 <span>{{costAll}}</span>\n                <br>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"order_cart\",\n      props: {\n          info: Object,\n          orderProducts: Object,\n          productDictList: Object,\n        },\n        data(){\n            return {\n\n                userCartList:[],  //从cart表取到的原数据\n                cartProductList:[],  //cart表里包含的product表的原数据\n                productList: [],\n                //productDictList:[] , //product_id -> product\n\n              cart_list:[],\n\n            }\n        },\n      created(){\n          this.orderProducts.forEach(item => {\n            if(item.fields.order_id==this.info.pk){\n              this.cart_list.push(item)\n            }\n            });\n      },\n        computed: {\n            //订单商品总数\n            countAll(){\n                let count = 0;\n                this.cart_list.forEach(item => {\n                    count += item.fields.num;\n                });\n                return count;\n            },//订单商品总价\n            costAll(){\n                let cost = 0;\n                this.cart_list.forEach(item => {\n                    cost += item.fields.order_product_cost * (item.fields.num-0.0);\n\n                });\n                return cost;\n            }\n\n        },\n\n\n    }\n</script>\n\n<style scoped>\n.cart {\n    margin: 32px;\n    background: #fff;\n    border: 1px solid #f8bbd0; /* 更改边框颜色为浅粉色 */\n    border-radius: 10px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 添加阴影 */\n}\n\n.cart-header-title {\n    padding: 16px 32px;\n    border-bottom: 1px solid #f8bbd0; /* 更改边框颜色为浅粉色 */\n    border-radius: 10px 10px 0 0;\n    background: #fce4ec; /* 更改背景颜色为淡粉色 */\n    font-size: 18px;\n    font-weight: bold;\n    color: #ad1457; /* 更改文本颜色为深粉色 */\n}\n\n.cart-header-main {\n    padding: 16px 32px;\n    overflow: hidden;\n    border-bottom: 1px solid #f8bbd0; /* 更改边框颜色为浅粉色 */\n    background: #fce4ec; /* 更改背景颜色为淡粉色 */\n    font-size: 14px;\n    color: #ad1457; /* 更改文本颜色为深粉色 */\n}\n\n.cart-empty {\n    text-align: center;\n    padding: 32px;\n    color: #ad1457; /* 更改文本颜色为深粉色 */\n}\n\n.cart-header-main div {\n    text-align: center;\n    float: left;\n    font-size: 14px;\n    color: #ad1457; /* 更改文本颜色为深粉色 */\n}\n\ndiv.cart-info {\n    width: 60%;\n    text-align: left;\n}\n\n.cart-price,\n.cart-count,\n.cart-cost {\n    width: 10%;\n}\n\n.cart-del {\n    width: 10%;\n    color: #f48fb1; /* 更改删除按钮颜色为浅粉色 */\n    cursor: pointer;\n    transition: color 0.3s;\n}\n\n.cart-del:hover {\n    color: #d81b60; /* 鼠标悬停时更改颜色为深粉色 */\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}