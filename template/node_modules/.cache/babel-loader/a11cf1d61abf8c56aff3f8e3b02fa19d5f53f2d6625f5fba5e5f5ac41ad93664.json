{"ast":null,"code":"import { RegionText } from 'v-region';\nexport default {\n  name: 'order_toDelivery',\n  props: {\n    tabkey: Object\n  },\n  watch: {\n    tabkey: function () {\n      this.initBusinessInfo();\n    }\n  },\n  components: {\n    RegionText\n  },\n  data: () => ({\n    btn_content: '通过审核',\n    btn_content2: '回退申请',\n    business_orders: [],\n    orderProducts: [],\n    nowProduct: [],\n    userAvatar: [],\n    business_lists: [],\n    business_list_dict: [],\n    check_lists: [],\n    tocheck: []\n  }),\n  methods: {\n    async initBusinessInfo() {\n      await this.axios.get('get_users/', {\n        params: {\n          status: '待上架'\n        }\n      }).then(response => {\n        console.log(response);\n        this.business_lists = response.data.business_lists;\n        this.business_lists.forEach(item => {\n          this.business_list_dict[item.pk] = item;\n          this.userAvatar[item.pk] = item.fields.user_avatar;\n        });\n        this.business_lists.forEach(item => {\n          item.fields['region'] = {\n            province: item.fields.user_province,\n            city: item.fields.user_city,\n            area: item.fields.user_area,\n            town: ''\n          };\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      await this.axios.get('get_check/', {\n        params: {\n          product_status: '申请修改',\n          check_status: '待审核'\n        }\n      }).then(response => {\n        console.log(response);\n        this.tocheck = response.data.list;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    async changestatus(click_order_id, result) {\n      await this.axios.get('alterEditCheckStatus/', {\n        params: {\n          order_id: click_order_id,\n          status: result\n        }\n      }).then(response => {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      await this.initBusinessInfo();\n    }\n  },\n  async created() {\n    await this.initBusinessInfo();\n  }\n};","map":{"version":3,"mappings":"AA8EA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACAD;MACA;IACA;EACA;EACAE;IACAC;EACA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;QAAAC;UAAAC;QAAA;MAAA,GACAC;QACAC;QACA;QAEA;UACA;UACA;QACA;QAEA;UACAC;YACAC;YACAC;YACAC;YACAC;UACA;QACA;MAEA,GACAC;QACAN;MACA;MAEA;QAAAH;UAAAU;UAAAC;QAAA;MAAA,GACAT;QACAC;QACA;MACA,GACAM;QACAN;MACA;IACA;IACA;MACA;QAAAH;UAAAY;UAAAX;QAAA;MAAA,GACAC;QACAC;MACA,GACAM;QACAN;MACA;MACA;IACA;EACA;EACA;IACA;EACA;AACA","names":["name","props","tabkey","watch","components","RegionText","data","btn_content","btn_content2","business_orders","orderProducts","nowProduct","userAvatar","business_lists","business_list_dict","check_lists","tocheck","methods","params","status","then","console","item","province","city","area","town","catch","product_status","check_status","order_id"],"sourceRoot":"src/view/manager","sources":["editCheck.vue"],"sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-list>\r\n      <v-list-item\r\n        v-for=\"item in tocheck\"\r\n        :key=\"item.pk\"\r\n      >\r\n        <v-list-item-content>\r\n          <v-row>\r\n            <v-col class=\"product\">\r\n              <!--第一部分上面是商品图像+商品细节照片 下面是商品信息-->\r\n              <img class=\"picture1\" :src=\"`http://127.0.0.1:8000/media/${item.fields.product_image}`\" alt=\"\"\r\n                height=\"50px\" width=\"50px\">\r\n              <img class=\"picture2\" :src=\"`http://127.0.0.1:8000/media/${item.fields.product_imageDetail}`\" alt=\"\"\r\n                height=\"50px\" width=\"50px\">\r\n              <v-row>\r\n                <v-col>\r\n                  <v-list-item-title>{{ item.fields.product_name }}</v-list-item-title>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-list-item-title>{{ item.fields.product_brand  }}</v-list-item-title>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-list-item-title>{{ item.fields.product_cost  }}</v-list-item-title>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-list-item-title>{{ item.fields.product_color }}</v-list-item-title>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n            <v-col class=\"saler\">\r\n              <img :src=\"`http://127.0.0.1:8000/media/${business_list_dict[item.fields.product_business].fields.user_avatar}`\" alt=\"\"\r\n                height=\"50px\" width=\"50px\">\r\n              <v-row>\r\n                <v-col>\r\n                  <v-list-item-title>{{ business_list_dict[item.fields.product_business].fields.user_name }}</v-list-item-title>\r\n                </v-col>\r\n                <v-col>\r\n                  <region-text\r\n                    separator=\"-\"\r\n                    :town=\"false\"\r\n                    v-model=\"business_list_dict[item.fields.product_business].fields.region\"\r\n                  />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-list-item-title>{{ business_list_dict[item.fields.product_business].fields.user_address  }}</v-list-item-title>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-list-item-title>{{ business_list_dict[item.fields.product_business].fields.user_mobile  }}</v-list-item-title>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n            <v-col class=\"status\">\r\n              <br>\r\n              <v-list-item-title>{{ item.fields.checktime | format  }}</v-list-item-title>\r\n              <v-list-item-action>\r\n                <v-btn\r\n                  color=\"pink\"\r\n                  @click=\"changestatus(item.pk,'通过审核')\"\r\n                >\r\n                  {{ btn_content }}\r\n                </v-btn>\r\n                <v-btn\r\n                  color=\"pink\"\r\n                  @click=\"changestatus(item.pk,'回退申请')\"\r\n                >\r\n                  {{ btn_content2 }}\r\n                </v-btn>\r\n              </v-list-item-action>\r\n            </v-col>\r\n          </v-row>\r\n        </v-list-item-content>\r\n      </v-list-item>\r\n    </v-list>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { RegionText } from 'v-region';\r\n\r\nexport default {\r\n  name: 'order_toDelivery',\r\n  props: {\r\n    tabkey: Object\r\n  },\r\n  watch: {\r\n    tabkey: function () {\r\n      this.initBusinessInfo();\r\n    }\r\n  },\r\n  components: {\r\n    RegionText\r\n  },\r\n  data: () => ({\r\n    btn_content: '通过审核',\r\n    btn_content2: '回退申请',\r\n    business_orders: [],\r\n    orderProducts: [],\r\n    nowProduct: [],\r\n    userAvatar: [],\r\n    business_lists: [],\r\n    business_list_dict: [],\r\n    check_lists: [],\r\n    tocheck: []\r\n  }),\r\n  methods: {\r\n    async initBusinessInfo() {\r\n      await this.axios.get('get_users/', { params: { status: '待上架' } })\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.business_lists = response.data.business_lists;\r\n\r\n          this.business_lists.forEach(item => {\r\n            this.business_list_dict[item.pk] = item;\r\n            this.userAvatar[item.pk] = item.fields.user_avatar;\r\n          });\r\n\r\n          this.business_lists.forEach(item => {\r\n            item.fields['region'] = {\r\n              province: item.fields.user_province,\r\n              city: item.fields.user_city,\r\n              area: item.fields.user_area,\r\n              town: ''\r\n            }\r\n          });\r\n\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n      await this.axios.get('get_check/', { params: { product_status: '申请修改', check_status: '待审核' } })\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.tocheck = response.data.list;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    async changestatus(click_order_id, result) {\r\n      await this.axios.get('alterEditCheckStatus/', { params: { order_id: click_order_id, status: result } })\r\n        .then((response) => {\r\n          console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      await this.initBusinessInfo();\r\n    },\r\n  },\r\n  async created() {\r\n    await this.initBusinessInfo();\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.picture1 {\r\n  margin-right: 10px;\r\n}\r\n.picture2 {\r\n  margin-left: 10px;\r\n}\r\n.saler {\r\n  margin-left: 20px;\r\n  margin-right: 10px;\r\n  border-style: dashed;\r\n  border-width: 3px;\r\n  border-color: rgba(255, 64, 129, 0.5); /* Pink theme color */\r\n  border-radius: 6px;\r\n  margin-bottom: 10px;\r\n}\r\n.product {\r\n  border-style: dashed;\r\n  border-width: 3px;\r\n  border-color: rgba(255, 64, 129, 0.5); /* Pink theme color */\r\n  margin-right: 10px;\r\n  margin-left: 20px;\r\n  border-radius: 6px;\r\n  margin-bottom: 10px;\r\n}\r\n.status {\r\n  border-style: dashed;\r\n  border-width: 3px;\r\n  border-color: rgba(255, 64, 129, 0.5); /* Pink theme color */\r\n  margin-right: 15px;\r\n  border-radius: 6px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}