{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"order_cart\",\n  props: {\n    info: Object,\n    orderProducts: Object,\n    productDictList: Object\n  },\n  data() {\n    return {\n      userCartList: [],\n      //从cart表取到的原数据\n      cartProductList: [],\n      //cart表里包含的product表的原数据\n      productList: [],\n      //productDictList:[] , //product_id -> product\n\n      cart_list: []\n    };\n  },\n  created() {\n    this.orderProducts.forEach(item => {\n      if (item.fields.order_id == this.info.pk) {\n        this.cart_list.push(item);\n      }\n    });\n  },\n  computed: {\n    //订单商品总数\n    countAll() {\n      let count = 0;\n      this.cart_list.forEach(item => {\n        count += item.fields.num;\n      });\n      return count;\n    },\n    //订单商品总价\n    costAll() {\n      let cost = 0;\n      this.cart_list.forEach(item => {\n        cost += item.fields.order_product_cost * (item.fields.num - 0.0);\n      });\n      return cost;\n    }\n  }\n};","map":{"version":3,"mappings":";AA8CA;EACAA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MAEAC;MAAA;MACAC;MAAA;MACAC;MACA;;MAEAC;IAEA;EACA;EACAC;IACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;IAAA;IACAC;MACA;MACA;QACAC;MAEA;MACA;IACA;EAEA;AAGA","names":["name","props","info","orderProducts","productDictList","data","userCartList","cartProductList","productList","cart_list","created","computed","countAll","count","costAll","cost"],"sourceRoot":"src/components/business","sources":["order_cart.vue"],"sourcesContent":["<template>\n    <div class=\"cart\">\n        <div class=\"cart-header\">\n            <div class=\"cart-header-main\">\n                <div class=\"cart-info\">商品信息</div>\n                <div class=\"cart-price\">单价</div>\n                <div class=\"cart-count\">数量</div>\n                <div class=\"cart-cost\">小计</div>\n            </div>\n        </div>\n        <div class=\"cart-content\">\n            <!-- 列表显示购物清单 -->\n            <div class=\"cart-content-main\" v-for=\"(item)  in cart_list\" :key=\"item.index\">\n                <div class=\"cart-info\">\n                    <img :src=\"`http://127.0.0.1:8000/media/${productDictList[item.fields.product_id].fields.product_image}`\" alt=\"\"\n                    height=\"150px\" width=\"150px\">\n                    <span>{{productDictList[item.fields.product_id].fields.product_name}}</span>\n                </div>\n                <div class=\"cart-price\">\n                    ￥ {{item.fields.order_product_cost}}\n                </div>\n                <div class=\"cart-count\">\n\n                    {{item.fields.num}}\n\n                </div>\n                <div class=\"cart-cost\">\n                    ￥ {{item.fields.order_product_cost * (item.fields.num-0.0)}}\n                </div>\n            </div>\n            <div class=\"cart-empty\" v-if=\"!cart_list.length\">无商品</div>\n        </div>\n        <div class=\"cart-footer\" v-show=\"cart_list.length\">\n            <div class=\"cart-footer-desc\">\n                共计 <span>{{countAll}}</span>\n            </div>\n            <div class=\"cart-footer-desc\">\n                总额 <span>{{costAll}}</span>\n                <br>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"order_cart\",\n      props: {\n          info: Object,\n          orderProducts: Object,\n          productDictList: Object,\n        },\n        data(){\n            return {\n\n                userCartList:[],  //从cart表取到的原数据\n                cartProductList:[],  //cart表里包含的product表的原数据\n                productList: [],\n                //productDictList:[] , //product_id -> product\n\n              cart_list:[],\n\n            }\n        },\n      created(){\n          this.orderProducts.forEach(item => {\n            if(item.fields.order_id==this.info.pk){\n              this.cart_list.push(item)\n            }\n            });\n      },\n        computed: {\n            //订单商品总数\n            countAll(){\n                let count = 0;\n                this.cart_list.forEach(item => {\n                    count += item.fields.num;\n                });\n                return count;\n            },//订单商品总价\n            costAll(){\n                let cost = 0;\n                this.cart_list.forEach(item => {\n                    cost += item.fields.order_product_cost * (item.fields.num-0.0);\n\n                });\n                return cost;\n            }\n\n        },\n\n\n    }\n</script>\n\n<style scoped>\n    .cart{\n        margin: 32px;\n        background: #fff;\n        border: 1px solid #dddee1;\n        border-radius: 10px;\n    }\n    .cart-header-title{\n        padding: 16px 32px;\n        border-bottom: 1px solid #dddee1;\n        border-radius: 10px 10px 0 0;\n        background: #f8f8f9;\n    }\n    .cart-header-main{\n        padding: 8px 32px;\n        overflow: hidden;\n        border-bottom: 1px solid #dddee1;\n        background: #eee;\n        overflow: hidden;\n    }\n    .cart-empty{\n        text-align: center;\n        padding: 32px;\n    }\n    .cart-header-main div{\n        text-align: center;\n        float: left;\n        font-size: 14px;\n    }\n    div.cart-info{\n        width: 60%;\n        text-align: left;\n    }\n    .cart-price{\n        width: 10%;\n    }\n    .cart-count{\n        width: 10%;\n    }\n    .cart-cost{\n        width: 10%;\n    }\n    .cart-delete {\n        width: 10%;\n    }\n    .cart-content-main{\n        padding: 0 32px;\n        height: 60px;\n        line-height: 60px;\n        text-align: center;\n        border-bottom: 1px dashed #e9eaec;\n        overflow: hidden;\n    }\n    .cart-content-main div{\n        float: left;\n    }\n    .cart-content-main img{\n        width: 40px;\n        height: 40px;\n        position: relative;\n        top: 10px;\n    }\n    .cart-control-minus,\n    .cart-control-add{\n        display: inline-block;\n        margin: 0 4px;\n        width: 24px;\n        height: 24px;\n        line-height: 22px;\n        text-align: center;\n        background: #f8f8f9;\n        border-radius: 50%;\n        box-shadow: 0 1px 1px rgba(0,0,0,.2);\n        cursor: pointer;\n    }\n    .cart-control-delete{\n        cursor: pointer;\n        color: #2d8cf0;\n    }\n    .cart-promotion{\n        padding: 16px 32px;\n    }\n    .cart-control-promotion,\n    .cart-control-order{\n        display: inline-block;\n        padding: 8px 32px;\n        border-radius: 6px;\n        background: #2d8cf0;\n        color: #fff;\n        cursor: pointer;\n    }\n    .cart-control-promotion{\n        padding: 2px 6px;\n        font-size: 12px;\n        border-radius: 3px;\n    }\n    .cart-footer{\n        padding: 32px;\n        text-align: right;\n    }\n    .cart-footer-desc{\n        display: inline-block;\n        padding: 0 16px;\n    }\n    .cart-footer-desc span{\n        color: #f2352e;\n        font-size: 20px;\n    }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}