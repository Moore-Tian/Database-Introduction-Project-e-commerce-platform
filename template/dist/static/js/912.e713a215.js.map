{"version":3,"file":"static/js/912.e713a215.js","mappings":"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","sources":["webpack://my-project/./src/components/business/business_product_view.vue","webpack://my-project/src/components/business/business_product_view.vue","webpack://my-project/./src/components/business/business_product_view.vue?9523","webpack://my-project/./src/components/business/business_product_view.vue?9aab"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.product)?_c('div',[_c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"product-image\"},[_c('img',{attrs:{\"src\":`http://127.0.0.1:8000/media/${_vm.product.fields.product_image}`,\"alt\":\"\"}})]),_c('div',{staticClass:\"product-info\"},[_c('h1',{staticClass:\"product-name\"},[_vm._v(\"商品id：\"+_vm._s(_vm.product.pk))]),_c('h1',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.product.fields.product_name))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品库存：\"+_vm._s(_vm.product.fields.product_stock))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品销量：\"+_vm._s(_vm.product.fields.product_sales))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品单价：\"+_vm._s(_vm.product.fields.product_cost))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品品牌：\"+_vm._s(_vm.product.fields.product_brand))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品颜色：\"+_vm._s(_vm.product.fields.product_color))]),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"商品状态：\"+_vm._s(_vm.product.fields.product_status))]),(_vm.isOn)?_c('div',{staticClass:\"product-add-cart\",on:{\"click\":_vm.handleAddCart}},[_vm._v(\"编辑商品\")]):_vm._e(),(_vm.isOn)?_c('div',{staticClass:\"product-add-cart\",on:{\"click\":_vm.removePro}},[_vm._v(\"下架商品\")]):_vm._e(),(!_vm.isOn)?_c('div',{staticClass:\"product-add-cart\",on:{\"click\":_vm.handleAddCart}},[_vm._v(\"编辑并上架商品\")]):_vm._e()])]),_c('div',{staticClass:\"product-desc\"},[_c('h2',[_vm._v(\"产品介绍\")]),_c('img',{attrs:{\"src\":`http://127.0.0.1:8000/media/${_vm.product.fields.product_imageDetail}`,\"alt\":\"\"}})])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"product\">\r\n    <div class=\"product\">\r\n      <!-- 商品图片、名称、价格 -->\r\n      <div class=\"product-image\">\r\n        <img :src=\"`http://127.0.0.1:8000/media/${product.fields.product_image}`\" alt=\"\">\r\n      </div>\r\n      <div class=\"product-info\">\r\n        <h1 class=\"product-name\">商品id：{{product.pk}}</h1>\r\n        <h1 class=\"product-name\">{{product.fields.product_name}}</h1>\r\n        <div class=\"product-cost\">商品库存：{{product.fields.product_stock}}</div>\r\n        <div class=\"product-cost\">商品销量：{{product.fields.product_sales}}</div>\r\n        <div class=\"product-cost\">商品单价：{{product.fields.product_cost}}</div>\r\n        <div class=\"product-cost\">商品品牌：{{product.fields.product_brand}}</div>\r\n        <div class=\"product-cost\">商品颜色：{{product.fields.product_color}}</div>\r\n        <div class=\"product-cost\">商品状态：{{product.fields.product_status}}</div>\r\n\r\n        <div class=\"product-add-cart\" v-if=\"isOn\" @click=\"handleAddCart\">编辑商品</div>\r\n        <div class=\"product-add-cart\" v-if=\"isOn\" @click=\"removePro\">下架商品</div>\r\n        <div class=\"product-add-cart\" v-if=\"!isOn\" @click=\"handleAddCart\">编辑并上架商品</div>\r\n      </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n\r\n\r\n    <div class=\"product-desc\">\r\n      <h2>产品介绍</h2>\r\n      <img :src=\"`http://127.0.0.1:8000/media/${product.fields.product_imageDetail}`\" alt=\"\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//导入本地数据\r\n//import product_data from './product.js';\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      //获取路由中的参数\r\n      id: parseInt(this.$route.params.id),\r\n      product: null,\r\n      product_goods:0,\r\n      begood:true,\r\n      bestar:true,\r\n      shop_stars:0,\r\n      isOn:true,\r\n    }\r\n  },\r\n  methods: {\r\n    async removePro(){\r\n      await this.axios.get('delete_product/',\r\n            {params:{ product_id: this.id}})\r\n        .then((response) => {\r\n            console.log(response);\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    },\r\n\r\n    async getProductLikes(){\r\n      await this.axios.get('get_product_likes/',\r\n            {params:{ product_id: this.id}})\r\n        .then((response) => {\r\n            console.log(response);\r\n           this.product_goods=response.data.goods\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n\r\n      await this.axios.get('get_shop_stars/',\r\n            {params:{ business_id: this.product.fields.product_business}})\r\n        .then((response) => {\r\n            console.log(response);\r\n           this.shop_stars=response.data.stars\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    },\r\n    async changeGood(){\r\n      if(this.begood){\r\n        this.product_goods-=1\r\n      }else{\r\n        this.product_goods+=1\r\n      }\r\n      this.begood=!this.begood\r\n\r\n      await this.axios.get('toggle_user_like_to_product/',\r\n            {params:{user_id: this.$store.state.userId, product_id: this.id}})\r\n        .then((response) => {\r\n            console.log(response);\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    },\r\n    async changeStar(){\r\n      if(this.bestar){\r\n        this.shop_stars-=1\r\n      }else{\r\n        this.shop_stars+=1\r\n      }\r\n      this.bestar=!this.bestar\r\n\r\n      await this.axios.get('toggle_user_star_to_shop/',\r\n            {params:{user_id: this.$store.state.userId, business_id: this.product.fields.product_business}})\r\n        .then((response) => {\r\n            console.log(response);\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    },\r\n    async initUserToProduct(){\r\n      await this.axios.get('get_user_like_to_product/',\r\n            {params:{user_id: this.$store.state.userId, product_id: this.id}})\r\n        .then((response) => {\r\n            console.log(response);\r\n            //this.list = response.data.list\r\n          if(response.data.good==='good'){\r\n            this.begood=true\r\n          }else{\r\n            this.begood=false\r\n          }\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n\r\n      await this.axios.get('get_user_star_to_shop/',\r\n            {params:{user_id: this.$store.state.userId, business_id: this.product.fields.product_business}})\r\n        .then((response) => {\r\n            console.log(response);\r\n            //this.list = response.data.list\r\n          if(response.data.star==='star'){\r\n            this.bestar=true\r\n          }else{\r\n            this.bestar=false\r\n          }\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    },\r\n\r\n\r\n    async getProduct(x1){\r\n      await this.axios.get('fetch_product/',{params:{product_id: x1}})\r\n        .then((response) => {\r\n            console.log(response);\r\n            this.product = response.data.product\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n\r\n        });\r\n    },\r\n    async handleAddCart(){\r\n      this.$router.push({path: '/business/business_edit_commodity/'+ this.id})\r\n\r\n    }\r\n  },\r\n  async created(){\r\n    //初始化数据\r\n\r\n    await this.getProduct(this.id)\r\n\r\n    if(this.product.fields.product_status=='上架'){\r\n      this.isOn=true\r\n    }else {\r\n      this.isOn=false\r\n    }\r\n\r\n  },\r\n\r\n  async mounted(){\r\n    //初始化数据\r\n\r\n    await this.getProduct(this.id)\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n<!-- scoped属性表示只对当前组件有效，不影响其他组件 -->\r\n<style scoped>\r\n.word {\r\n  font-size: 24px;\r\n  color: #ad1457;\r\n}\r\n\r\n.fillheart {\r\n  color: #e91e63;\r\n  font-size: 32px;\r\n}\r\n\r\n.heart {\r\n  color: #ccc;\r\n  font-size: 32px;\r\n}\r\n\r\n.fillstar {\r\n  color: #ffeb3b;\r\n  font-size: 32px;\r\n}\r\n\r\n.star {\r\n  color: #ccc;\r\n  font-size: 32px;\r\n}\r\n\r\n.product {\r\n  margin: 20px;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border: 1px solid #f8bbd0;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: box-shadow 0.3s ease-in-out;\r\n}\r\n.product:hover {\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.product-image {\r\n  width: 50%;\r\n  height: auto;\r\n  float: left;\r\n  text-align: center;\r\n}\r\n.product-image img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  border-radius: 10px;\r\n}\r\n\r\n.product-info {\r\n  width: 50%;\r\n  padding: 50px 20px;\r\n  float: left;\r\n  text-align: center;\r\n}\r\n\r\n.product-cost {\r\n  color: #e91e63;\r\n  margin: 10px 0;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.product-add-cart {\r\n  display: inline-block;\r\n  padding: 10px 30px;\r\n  margin: 10px 0;\r\n  background: #f06292;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background 0.3s ease;\r\n}\r\n.product-add-cart:hover {\r\n  background: #e91e63;\r\n}\r\n\r\n.product-desc {\r\n  background: #fff;\r\n  margin: 20px;\r\n  padding: 20px;\r\n  border: 1px solid #f8bbd0;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.product-desc img {\r\n  display: block;\r\n  width: 70%;\r\n  margin: 20px auto;\r\n  padding: 20px;\r\n  border-bottom: 1px solid #f8bbd0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./business_product_view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./business_product_view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./business_product_view.vue?vue&type=template&id=9a89d858&scoped=true&\"\nimport script from \"./business_product_view.vue?vue&type=script&lang=js&\"\nexport * from \"./business_product_view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./business_product_view.vue?vue&type=style&index=0&id=9a89d858&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a89d858\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","product","staticClass","attrs","fields","product_image","_v","_s","pk","product_name","product_stock","product_sales","product_cost","product_brand","product_color","product_status","isOn","on","handleAddCart","_e","removePro","product_imageDetail","staticRenderFns","data","id","product_goods","begood","bestar","shop_stars","methods","params","product_id","then","console","catch","business_id","user_id","path","component"],"sourceRoot":""}